{"ast":null,"code":"import _regeneratorRuntime from\"/home/kevilinrodrigues/Documentos/myreps/brecho-solidario-dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kevilinrodrigues/Documentos/myreps/brecho-solidario-dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/kevilinrodrigues/Documentos/myreps/brecho-solidario-dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{collection,getDocs,doc,deleteDoc}from\"firebase/firestore\";import app from\"../firebase/firebaseConfig\";import{getFirestore}from\"firebase/firestore\";var db=getFirestore(app);export var GetData=function GetData(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//Get data from firebase\nvar getDataFirebase=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(collection(db,\"posts\"));case 2:data=_context.sent;setData(data.docs);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getDataFirebase(){return _ref.apply(this,arguments);};}();//Delete data from firebase\nvar deleteDataFirebase=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(idPost){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteDoc(doc(db,\"posts\",\"\".concat(idPost)));case 2:localStorage.clear();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteDataFirebase(_x){return _ref2.apply(this,arguments);};}();return{getDataFirebase:getDataFirebase,deleteDataFirebase:deleteDataFirebase,data:data};};","map":{"version":3,"sources":["/home/kevilinrodrigues/Documentos/myreps/brecho-solidario-dev/src/helpers/helpers.js"],"names":["useState","collection","getDocs","doc","deleteDoc","app","getFirestore","db","GetData","data","setData","getDataFirebase","docs","deleteDataFirebase","idPost","localStorage","clear"],"mappings":"yhBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,CAAqBC,OAArB,CAA8BC,GAA9B,CAAmCC,SAAnC,KAAoD,oBAApD,CACA,MAAOC,CAAAA,GAAP,KAAgB,4BAAhB,CACA,OAASC,YAAT,KAA6B,oBAA7B,CACA,GAAMC,CAAAA,EAAE,CAAGD,YAAY,CAACD,GAAD,CAAvB,CAEA,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,cAAwBR,QAAQ,CAAC,EAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACA;AACA,GAAMC,CAAAA,eAAe,0FAAG,kKACHT,CAAAA,OAAO,CAACD,UAAU,CAACM,EAAD,CAAK,OAAL,CAAX,CADJ,QAChBE,IADgB,eAEtBC,OAAO,CAACD,IAAI,CAACG,IAAN,CAAP,CAFsB,sDAAH,kBAAfD,CAAAA,eAAe,0CAArB,CAKA;AACA,GAAME,CAAAA,kBAAkB,2FAAG,kBAAOC,MAAP,6IACnBV,CAAAA,SAAS,CAACD,GAAG,CAACI,EAAD,CAAK,OAAL,WAAiBO,MAAjB,EAAJ,CADU,QAEzBC,YAAY,CAACC,KAAb,GAFyB,wDAAH,kBAAlBH,CAAAA,kBAAkB,6CAAxB,CAKA,MAAO,CAAEF,eAAe,CAAfA,eAAF,CAAmBE,kBAAkB,CAAlBA,kBAAnB,CAAuCJ,IAAI,CAAJA,IAAvC,CAAP,CACD,CAfM","sourcesContent":["import { useState } from \"react\";\nimport { collection, getDocs, doc, deleteDoc } from \"firebase/firestore\";\nimport app from \"../firebase/firebaseConfig\";\nimport { getFirestore } from \"firebase/firestore\";\nconst db = getFirestore(app);\n\nexport const GetData = () => {\n  const [data, setData] = useState([]);\n  //Get data from firebase\n  const getDataFirebase = async () => {\n    const data = await getDocs(collection(db, \"posts\"));\n    setData(data.docs);\n  };\n\n  //Delete data from firebase\n  const deleteDataFirebase = async (idPost) => {\n    await deleteDoc(doc(db, \"posts\", `${idPost}`));\n    localStorage.clear();\n  };\n\n  return { getDataFirebase, deleteDataFirebase, data };\n};\n"]},"metadata":{},"sourceType":"module"}